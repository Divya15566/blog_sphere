{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate,Link}from'react-router-dom';import{Row,Col,Card,Button,Pagination}from'react-bootstrap';import axios from'axios';import{LinkContainer}from'react-router-bootstrap';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const HomeScreen=()=>{const[blogs,setBlogs]=useState([]);const[page,setPage]=useState(1);const[pages,setPages]=useState(1);const[total,setTotal]=useState(0);const[loading,setLoading]=useState(true);const navigate=useNavigate();useEffect(()=>{const fetchBlogs=async()=>{try{setLoading(true);const{data}=await axios.get(`/api/blogs?page=${page}`);setBlogs(data.blogs);setPages(data.totalPages);setTotal(data.totalBlogs);}catch(error){console.error('Error fetching blogs:',error);}finally{setLoading(false);}};fetchBlogs();},[page]);return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-12\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tight lg:text-6xl\",children:\"Discover Amazing Content\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-5 max-w-xl mx-auto text-xl text-gray-500\",children:\"Read the latest posts from our community\"})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center py-20\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-8 md:grid-cols-2 lg:grid-cols-3\",children:blogs.map(blog=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-medium\",children:blog.author.email.charAt(0).toUpperCase()})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:blog.author.email}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:new Date(blog.createdAt).toLocaleDateString()})]})]}),/*#__PURE__*/_jsxs(Link,{to:`/blog/${blog._id}`,className:\"block\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-2 hover:text-indigo-600 transition-colors\",children:blog.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 line-clamp-3\",children:[blog.content.substring(0,200),\"...\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsx(Link,{to:`/blog/${blog._id}`,className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",children:\"Read more\"})})]})},blog._id))}),pages>1&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center mt-12\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"flex items-center space-x-2\",children:[...Array(pages).keys()].map(x=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPage(x+1),className:`px-4 py-2 border rounded-md text-sm font-medium ${page===x+1?'border-indigo-500 bg-indigo-50 text-indigo-600':'border-gray-300 text-gray-500 hover:bg-gray-50'}`,children:x+1},x+1))})})]})]})});};export default HomeScreen;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Link","Row","Col","Card","Button","Pagination","axios","LinkContainer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","HomeScreen","blogs","setBlogs","page","setPage","pages","setPages","total","setTotal","loading","setLoading","navigate","fetchBlogs","data","get","totalPages","totalBlogs","error","console","className","children","map","blog","author","email","charAt","toUpperCase","Date","createdAt","toLocaleDateString","to","_id","title","content","substring","Array","keys","x","onClick"],"sources":["C:/Users/divya/blog-app/client/src/screens/HomeScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { Row, Col, Card, Button, Pagination } from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nconst HomeScreen = () => {\r\n  const [blogs, setBlogs] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [pages, setPages] = useState(1);\r\n  const [total, setTotal] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchBlogs = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const { data } = await axios.get(`/api/blogs?page=${page}`);\r\n        setBlogs(data.blogs);\r\n        setPages(data.totalPages);\r\n        setTotal(data.totalBlogs);\r\n      } catch (error) {\r\n        console.error('Error fetching blogs:', error);\r\n      }finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchBlogs();\r\n  }, [page]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\r\n        <div className=\"text-center mb-12\">\r\n          <h1 className=\"text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tight lg:text-6xl\">\r\n            Discover Amazing Content\r\n          </h1>\r\n          <p className=\"mt-5 max-w-xl mx-auto text-xl text-gray-500\">\r\n            Read the latest posts from our community\r\n          </p>\r\n        </div>\r\n\r\n        {loading ? (\r\n          <div className=\"flex justify-center py-20\">\r\n            <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500\"></div>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <div className=\"grid gap-8 md:grid-cols-2 lg:grid-cols-3\">\r\n              {blogs.map((blog) => (\r\n                <div \r\n                  key={blog._id} \r\n                  className=\"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300\"\r\n                >\r\n                  <div className=\"p-6\">\r\n                    <div className=\"flex items-center mb-4\">\r\n                      <div className=\"flex-shrink-0\">\r\n                        <div className=\"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-medium\">\r\n                          {blog.author.email.charAt(0).toUpperCase()}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"ml-3\">\r\n                        <p className=\"text-sm font-medium text-gray-900\">{blog.author.email}</p>\r\n                        <p className=\"text-sm text-gray-500\">\r\n                          {new Date(blog.createdAt).toLocaleDateString()}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <Link to={`/blog/${blog._id}`} className=\"block\">\r\n                      <h3 className=\"text-xl font-semibold text-gray-900 mb-2 hover:text-indigo-600 transition-colors\">\r\n                        {blog.title}\r\n                      </h3>\r\n                      <p className=\"text-gray-600 line-clamp-3\">\r\n                        {blog.content.substring(0, 200)}...\r\n                      </p>\r\n                    </Link>\r\n                    \r\n                    <div className=\"mt-6\">\r\n                      <Link\r\n                        to={`/blog/${blog._id}`}\r\n                        className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\r\n                      >\r\n                        Read more\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            {pages > 1 && (\r\n              <div className=\"flex justify-center mt-12\">\r\n                <nav className=\"flex items-center space-x-2\">\r\n                  {[...Array(pages).keys()].map((x) => (\r\n                    <button\r\n                      key={x + 1}\r\n                      onClick={() => setPage(x + 1)}\r\n                      className={`px-4 py-2 border rounded-md text-sm font-medium ${page === x + 1 \r\n                        ? 'border-indigo-500 bg-indigo-50 text-indigo-600' \r\n                        : 'border-gray-300 text-gray-500 hover:bg-gray-50'}`}\r\n                    >\r\n                      {x + 1}\r\n                    </button>\r\n                  ))}\r\n                </nav>\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomeScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}