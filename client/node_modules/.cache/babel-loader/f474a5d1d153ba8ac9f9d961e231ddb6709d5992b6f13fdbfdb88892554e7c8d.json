{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faArrowLeft}from'@fortawesome/free-solid-svg-icons';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CreateBlogScreen=()=>{const[title,setTitle]=useState('');const[content,setContent]=useState('');const[error,setError]=useState('');const[loading,setLoading]=useState(false);const navigate=useNavigate();useEffect(()=>{const token=localStorage.getItem('token');if(!token){navigate('/login');}},[navigate]);const submitHandler=async e=>{e.preventDefault();setLoading(true);setError('');try{const token=localStorage.getItem('token');const config={headers:{'x-auth-token':token,'Content-Type':'application/json'}};await axios.post('/api/blogs',{title,content},config);navigate('/myblogs');}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.msg)||'Error creating blog');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(-1),className:\"mb-6 flex items-center text-indigo-600 hover:text-indigo-800 transition-colors\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faArrowLeft,className:\"mr-2\"}),\"Back to posts\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-xl rounded-lg overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-6\",children:\"Create New Post\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",value:title,onChange:e=>setTitle(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 shadow-sm\",placeholder:\"Your post title\",required:true,maxLength:100}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:[title.length,\"/100 characters\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"content\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Content\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"content\",rows:12,value:content,onChange:e=>setContent(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 shadow-sm\",placeholder:\"Write your post content here...\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>navigate('/myblogs'),className:\"px-6 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"px-6 py-3 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50\",children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin -ml-1 mr-2 h-4 w-4 text-white inline\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}),\"Publishing...\"]}):'Publish Post'})]})]})]})})]})});};export default CreateBlogScreen;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","FontAwesomeIcon","faArrowLeft","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CreateBlogScreen","title","setTitle","content","setContent","error","setError","loading","setLoading","navigate","token","localStorage","getItem","submitHandler","e","preventDefault","config","headers","post","err","_err$response","_err$response$data","response","data","msg","className","children","onClick","icon","onSubmit","htmlFor","type","id","value","onChange","target","placeholder","required","maxLength","length","rows","disabled","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d"],"sources":["C:/Users/divya/blog-app/client/src/screens/CreateBlogScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowLeft } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst CreateBlogScreen = () => {\r\n  const [title, setTitle] = useState('');\r\n  const [content, setContent] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      navigate('/login');\r\n    }\r\n  }, [navigate]);\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = {\r\n        headers: {\r\n          'x-auth-token': token,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      };\r\n\r\n      await axios.post('/api/blogs', { title, content }, config);\r\n      navigate('/myblogs');\r\n    } catch (err) {\r\n      setError(err.response?.data?.msg || 'Error creating blog');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\r\n        <button\r\n          onClick={() => navigate(-1)}\r\n          className=\"mb-6 flex items-center text-indigo-600 hover:text-indigo-800 transition-colors\"\r\n        >\r\n          <FontAwesomeIcon icon={faArrowLeft} className=\"mr-2\" />\r\n          Back to posts\r\n        </button>\r\n        \r\n        <div className=\"bg-white shadow-xl rounded-lg overflow-hidden\">\r\n          <div className=\"p-8\">\r\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-6\">Create New Post</h1>\r\n            \r\n            {error && (\r\n              <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6\">\r\n                {error}\r\n              </div>\r\n            )}\r\n            \r\n            <form onSubmit={submitHandler}>\r\n              <div className=\"mb-6\">\r\n                <label htmlFor=\"title\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Title\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"title\"\r\n                  value={title}\r\n                  onChange={(e) => setTitle(e.target.value)}\r\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 shadow-sm\"\r\n                  placeholder=\"Your post title\"\r\n                  required\r\n                  maxLength={100}\r\n                />\r\n                <p className=\"mt-1 text-sm text-gray-500\">\r\n                  {title.length}/100 characters\r\n                </p>\r\n              </div>\r\n              \r\n              <div className=\"mb-8\">\r\n                <label htmlFor=\"content\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Content\r\n                </label>\r\n                <textarea\r\n                  id=\"content\"\r\n                  rows={12}\r\n                  value={content}\r\n                  onChange={(e) => setContent(e.target.value)}\r\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 shadow-sm\"\r\n                  placeholder=\"Write your post content here...\"\r\n                  required\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"flex justify-end space-x-4\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => navigate('/myblogs')}\r\n                  className=\"px-6 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={loading}\r\n                  className=\"px-6 py-3 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50\"\r\n                >\r\n                  {loading ? (\r\n                    <>\r\n                      <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white inline\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                      </svg>\r\n                      Publishing...\r\n                    </>\r\n                  ) : 'Publish Post'}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateBlogScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}