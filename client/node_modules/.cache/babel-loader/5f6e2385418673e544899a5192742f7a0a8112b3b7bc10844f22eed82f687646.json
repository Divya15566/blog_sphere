{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{Form,Button,Row,Col,Alert}from'react-bootstrap';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginScreen=()=>{const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const[loading,setLoading]=useState(false);const navigate=useNavigate();useEffect(()=>{const token=localStorage.getItem('token');if(token){navigate('/');}},[navigate]);const submitHandler=async e=>{e.preventDefault();setLoading(true);setError('');try{const{data}=await axios.post('/api/auth/login',{email,password});localStorage.setItem('token',data.token);navigate('/');}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.msg)||'Invalid credentials');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{className:\"mt-6 text-center text-3xl font-extrabold text-gray-900\",children:\"Sign in to your account\"})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\",children:error}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-8 space-y-6\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-md shadow-sm space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium text-gray-700\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",name:\"email\",type:\"email\",autoComplete:\"email\",required:true,value:email,onChange:e=>setEmail(e.target.value),className:\"mt-1 appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium text-gray-700\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",name:\"password\",type:\"password\",autoComplete:\"current-password\",required:true,value:password,onChange:e=>setPassword(e.target.value),className:\"mt-1 appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\",children:loading?'Signing in...':'Sign in'})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"New customer? \"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"font-medium text-blue-600 hover:text-blue-500\",children:\"Register here\"})]})]})});};export default LoginScreen;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","Form","Button","Row","Col","Alert","axios","jsx","_jsx","jsxs","_jsxs","LoginScreen","email","setEmail","password","setPassword","error","setError","loading","setLoading","navigate","token","localStorage","getItem","submitHandler","e","preventDefault","data","post","setItem","err","_err$response","_err$response$data","response","msg","className","children","onSubmit","htmlFor","id","name","type","autoComplete","required","value","onChange","target","disabled","to"],"sources":["C:/Users/divya/blog-app/client/src/screens/LoginScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { Form, Button, Row, Col, Alert } from 'react-bootstrap';\r\nimport axios from 'axios';\r\n\r\nconst LoginScreen = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      navigate('/');\r\n    }\r\n  }, [navigate]);\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      const { data } = await axios.post('/api/auth/login', {\r\n        email,\r\n        password\r\n      });\r\n      localStorage.setItem('token', data.token);\r\n      navigate('/');\r\n    } catch (err) {\r\n      setError(err.response?.data?.msg || 'Invalid credentials');\r\n    }finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md\">\r\n        <div>\r\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\r\n            Sign in to your account\r\n          </h2>\r\n        </div>\r\n        \r\n        {error && (\r\n          <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\r\n            {error}\r\n          </div>\r\n        )}\r\n        \r\n        <form className=\"mt-8 space-y-6\" onSubmit={submitHandler}>\r\n          <div className=\"rounded-md shadow-sm space-y-4\">\r\n            <div>\r\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\r\n                Email address\r\n              </label>\r\n              <input\r\n                id=\"email\"\r\n                name=\"email\"\r\n                type=\"email\"\r\n                autoComplete=\"email\"\r\n                required\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                className=\"mt-1 appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\r\n                Password\r\n              </label>\r\n              <input\r\n                id=\"password\"\r\n                name=\"password\"\r\n                type=\"password\"\r\n                autoComplete=\"current-password\"\r\n                required\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                className=\"mt-1 appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\r\n            >\r\n              {loading ? 'Signing in...' : 'Sign in'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n        \r\n        <div className=\"text-center text-sm\">\r\n          <span className=\"text-gray-600\">New customer? </span>\r\n          <Link to=\"/register\" className=\"font-medium text-blue-600 hover:text-blue-500\">\r\n            Register here\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}